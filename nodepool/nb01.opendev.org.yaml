elements-dir: /opt/project-config/nodepool/elements
images-dir: /opt/nodepool_dib

zookeeper-servers:
  - host: zk01.openstack.org
    port: 2181
  - host: zk02.openstack.org
    port: 2181
  - host: zk03.openstack.org
    port: 2181

providers:
  - name: ovh-bhs1
    region-name: 'BHS1'
    cloud: ovh
    rate: 0.1
    diskimages: &provider_diskimages
      - name: fedora-30
        config-drive: true

  - name: ovh-gra1
    region-name: 'GRA1'
    cloud: ovh
    rate: 0.1
    diskimages: *provider_diskimages

  - name: inap-mtl01
    region-name: 'mtl01'
    cloud: inap
    rate: 0.001
    diskimages: *provider_diskimages

  - name: rax-dfw
    region-name: 'DFW'
    cloud: rax
    rate: 0.001
    diskimages: *provider_diskimages

  - name: rax-iad
    region-name: 'IAD'
    cloud: rax
    rate: 0.001
    diskimages: *provider_diskimages

  - name: rax-ord
    region-name: 'ORD'
    cloud: rax
    rate: 0.001
    diskimages: *provider_diskimages

  - name: vexxhost-ca-ymq-1
    region-name: 'ca-ymq-1'
    cloud: vexxhost
    rate: 0.001
    diskimages: *provider_diskimages

  - name: vexxhost-sjc1
    region-name: 'sjc1'
    cloud: vexxhost
    rate: 0.001
    diskimages: *provider_diskimages

  - name: limestone-regionone
    region-name: 'RegionOne'
    cloud: limestone
    rate: 0.001
    diskimages: *provider_diskimages

  - name: openedge-us-east
    region-name: 'us-east'
    cloud: openedge
    rate: 0.001
    diskimages: *provider_diskimages

diskimages:
  - name: fedora-30
    pause: true
    python-path: /usr/bin/python3
    elements:
      - fedora-minimal
      - vm
      - simple-init
      - openstack-repos
      - nodepool-base
      - cache-devstack
      - initialize-urandom
      - growroot
      - infra-package-needs
      # NOTE(ianw) 2020-02-17 : we are working to move this into job
      # configuration
      - pip-and-virtualenv
    release: 30
    env-vars:
      TMPDIR: /opt/dib_tmp
      DIB_CHECKSUM: '1'
      DIB_IMAGE_CACHE: /opt/dib_cache
      DIB_JOURNAL_SIZE: '512'
      DIB_GRUB_TIMEOUT: '0'
      GIT_HTTP_LOW_SPEED_TIME: '300'
      GIT_HTTP_LOW_SPEED_LIMIT: '1000'
      DIB_SHOW_IMAGE_USAGE: '1'
